## 消息异步处理
### 背景
各个服务之间存在关联性，当一个服务产生动作，相应将引起本身服务或其他服务的其他动作，但前端需要即时返回处理结果。因而将上述动作写入kafka队列，异步进行处理。
如a关注b，relation服务产生关注消息，relation服务本身将消费该消息，更新粉丝表；同时feed服务也将消费该消息，将被关注人的微博数据拉入关注人的feed。

### 实现
#### 基本方案
* 通过kafka进行消息的发布和订阅
* 各个服务均可发布消息，并在各个服务各自的守护进程中进行消息订阅

#### 可靠性
* 需要一个统一的消息消费监控机制
* 给每条消息生成一条msgId（复用mid的生成方法就可以）,消息的消费结果均需要反馈给监控系统

